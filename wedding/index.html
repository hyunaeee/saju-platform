<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>천생연분 - 결혼 택일</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel (JSX 변환용) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6906055503131628"
     crossorigin="anonymous"></script>

    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .font-serif { font-family: 'Noto Serif KR', serif; }
        .word-keep-all { word-break: keep-all; }
        
        /* Fade In Animation */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 아이콘 컴포넌트 (Lucide Icons SVG) ---
        // lucide-react 대신 직접 SVG를 정의하여 단독 파일로 실행되게 함
        const IconBase = ({ children, className, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );
        const Calendar = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></IconBase>;
        const MapPin = (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>;
        const Heart = (props) => <IconBase {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></IconBase>;
        const Info = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></IconBase>;
        const Compass = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></IconBase>;
        const User = (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>;
        const Sparkles = (props) => <IconBase {...props}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></IconBase>;
        const ChevronRight = (props) => <IconBase {...props}><path d="m9 18 6-6-6-6"/></IconBase>;
        const BookOpen = (props) => <IconBase {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></IconBase>;


        // --- 명리학 기초 데이터 ---
        const GANJI_YEARS = [
            { sign: '자(쥐)', element: '수', color: 'black', compatibility: ['소', '용', '원숭이'], clash: ['말'] },
            { sign: '축(소)', element: '토', color: 'yellow', compatibility: ['쥐', '뱀', '닭'], clash: ['양'] },
            { sign: '인(호랑이)', element: '목', color: 'green', compatibility: ['말', '개', '돼지'], clash: ['원숭이'] },
            { sign: '묘(토끼)', element: '목', color: 'green', compatibility: ['양', '개', '돼지'], clash: ['닭'] },
            { sign: '진(용)', element: '토', color: 'yellow', compatibility: ['쥐', '원숭이', '닭'], clash: ['개'] },
            { sign: '사(뱀)', element: '화', color: 'red', compatibility: ['소', '닭', '원숭이'], clash: ['돼지'] },
            { sign: '오(말)', element: '화', color: 'red', compatibility: ['호랑이', '개', '양'], clash: ['쥐'] },
            { sign: '미(양)', element: '토', color: 'yellow', compatibility: ['토끼', '돼지', '말'], clash: ['소'] },
            { sign: '신(원숭이)', element: '금', color: 'white', compatibility: ['쥐', '용', '뱀'], clash: ['호랑이'] },
            { sign: '유(닭)', element: '금', color: 'white', compatibility: ['소', '뱀', '용'], clash: ['토끼'] },
            { sign: '술(개)', element: '토', color: 'yellow', compatibility: ['호랑이', '말', '토끼'], clash: ['용'] },
            { sign: '해(돼지)', element: '수', color: 'black', compatibility: ['토끼', '양', '호랑이'], clash: ['뱀'] },
        ];

        const LOCATIONS = {
            '목': { direction: '동쪽', areas: ['강동', '성동', '광진', '남양주'], desc: '푸른 나무의 기운이 솟는 동쪽', benefit: '새로운 시작과 성장' },
            '화': { direction: '남쪽', areas: ['강남', '서초', '관악', '성남(분당)'], desc: '밝은 태양의 기운이 가득한 남쪽', benefit: '열정과 번영' },
            '토': { direction: '중앙', areas: ['종로', '중구', '용산', '과천'], desc: '안정적이고 포용력 있는 중앙', benefit: '신뢰와 화합' },
            '금': { direction: '서쪽', areas: ['영등포', '마포', '강서', '김포'], desc: '단단하고 결실을 맺는 서쪽', benefit: '재물과 결실' },
            '수': { direction: '북쪽', areas: ['노원', '도봉', '강북', '의정부'], desc: '지혜와 유연함이 흐르는 북쪽', benefit: '지혜와 깊은 사랑' },
        };

        // --- 유틸리티 함수 ---
        const getZodiacIndex = (year) => (year - 4) % 12;

        const getSeason = (month) => {
            if (month >= 3 && month <= 5) return '목'; // 봄
            if (month >= 6 && month <= 8) return '화'; // 여름
            if (month >= 9 && month <= 11) return '금'; // 가을
            return '수'; // 겨울
        };

        const seededRandom = (seed) => {
            let value = seed % 2147483647;
            if (value <= 0) value += 2147483646;
            return () => {
                value = (value * 16807) % 2147483647;
                return (value - 1) / 2147483646;
            };
        };

        const stringToHash = (string) => {
            let hash = 0;
            if (string.length === 0) return hash;
            for (let i = 0; i < string.length; i++) {
                const char = string.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash);
        };

        const getDetailedReason = (groomZodiac, brideZodiac, month, dayOfWeek, dayScore, dayAnimal) => {
            const reasons = [];
            const isGroomGood = groomZodiac.compatibility.includes(dayAnimal);
            const isBrideGood = brideZodiac.compatibility.includes(dayAnimal);

            if (isGroomGood && isBrideGood) {
                reasons.push(`이 날의 기운(${dayAnimal})이 두 분 모두에게 대길(大吉)하여 하늘이 돕는 날입니다.`);
            } else if (isGroomGood) {
                reasons.push(`신랑님의 띠와 합이 되는 날(${dayAnimal}날)로, 가정의 기둥이 튼튼해집니다.`);
            } else if (isBrideGood) {
                reasons.push(`신부님에게 귀한 기운(${dayAnimal})이 들어와 사랑과 행복이 가득 찰 것입니다.`);
            } else {
                reasons.push("음양의 조화가 무난하여 평온하게 식을 치를 수 있는 날입니다.");
            }

            if ([3, 4, 5].includes(month)) {
                reasons.push("봄의 생기(木)가 왕성하여, 자손이 번성하고 시작하는 기운이 매우 좋습니다.");
            } else if ([9, 10, 11].includes(month)) {
                reasons.push("가을의 결실(金)이 가득하여, 재물이 모이고 부부의 연이 단단해지는 시기입니다.");
            } else {
                reasons.push("계절의 흐름이 안정적이라 부부의 건강과 장수를 돕는 기운이 있습니다.");
            }

            if (dayOfWeek === 6) reasons.push("하객들의 축하를 가장 많이 받을 수 있는 황금 토요일입니다.");
            return reasons;
        };

        // --- Main Component ---
        function App() {
            const currentYear = new Date().getFullYear();
            const [step, setStep] = useState(1);
            const [loading, setLoading] = useState(false);
            const [inputs, setInputs] = useState({
                groomName: '', groomDate: '', groomTime: '',
                brideName: '', brideDate: '', brideTime: '',
                targetYear: currentYear + 1
            });
            const [result, setResult] = useState(null);

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setInputs(prev => ({ ...prev, [name]: value }));
            };

            const calculateSaju = () => {
                setLoading(true);

                const seedString = `${inputs.groomName}${inputs.groomDate}${inputs.groomTime}${inputs.brideName}${inputs.brideDate}${inputs.brideTime}${inputs.targetYear}`;
                const seed = stringToHash(seedString);
                const rng = seededRandom(seed);
                
                setTimeout(() => {
                    const groomYear = new Date(inputs.groomDate).getFullYear();
                    const brideYear = new Date(inputs.brideDate).getFullYear();
                    const groomMonth = new Date(inputs.groomDate).getMonth() + 1;
                    const brideMonth = new Date(inputs.brideDate).getMonth() + 1;

                    const groomZodiacIdx = getZodiacIndex(groomYear);
                    const brideZodiacIdx = getZodiacIndex(brideYear);
                    
                    const groomZodiac = GANJI_YEARS[groomZodiacIdx];
                    const brideZodiac = GANJI_YEARS[brideZodiacIdx];

                    const elements = { '목': 0, '화': 0, '토': 0, '금': 0, '수': 0 };
                    elements[groomZodiac.element]++;
                    elements[brideZodiac.element]++;
                    elements[getSeason(groomMonth)]++;
                    elements[getSeason(brideMonth)]++;

                    const missingElements = Object.keys(elements).filter(k => elements[k] <= 1);
                    const luckyElement = missingElements.length > 0 
                        ? missingElements[Math.floor(rng() * missingElements.length)] 
                        : '토';

                    const targetY = parseInt(inputs.targetYear);
                    const auspiciousDates = [];
                    
                    for (let y = targetY; y <= targetY + 1; y++) { 
                        for (let m = 0; m < 12; m++) {
                            const daysInMonth = new Date(y, m + 1, 0).getDate();
                            const c1 = Math.floor(rng() * 8) + 1;
                            const c2 = Math.floor(rng() * 8) + 10;
                            const c3 = Math.floor(rng() * 8) + 20;
                            const candidates = [c1, c2, c3];

                            candidates.forEach(day => {
                                if (day > daysInMonth) return;
                                const date = new Date(y, m, day);
                                const dayOfWeek = date.getDay(); // 0:일, 6:토
                                
                                if (dayOfWeek === 0 || dayOfWeek === 6) {
                                    const dayZodiacIdx = (y + m + day) % 12; 
                                    const dayZodiacData = GANJI_YEARS[dayZodiacIdx];
                                    const dayAnimal = dayZodiacData.sign.match(/\((.*?)\)/)[1];

                                    let score = 65; 
                                    
                                    const isGroomGood = groomZodiac.compatibility.includes(dayAnimal);
                                    const isBrideGood = brideZodiac.compatibility.includes(dayAnimal);
                                    const isGroomBad = groomZodiac.clash.includes(dayAnimal);
                                    const isBrideBad = brideZodiac.clash.includes(dayAnimal);

                                    if (isGroomGood) score += 15;
                                    if (isBrideGood) score += 15;
                                    if (isGroomBad || isBrideBad) score -= 30;

                                    if (m === 3 || m === 4 || m === 9 || m === 10) score += 8; 
                                    if (dayOfWeek === 6) score += 5;

                                    score += Math.floor(rng() * 8); 

                                    if (score > 99) score = 99;

                                    if (score >= 75) {
                                        const reasons = getDetailedReason(groomZodiac, brideZodiac, m + 1, dayOfWeek, score, dayAnimal);
                                        auspiciousDates.push({
                                            year: y,
                                            dateStr: `${y}년 ${m + 1}월 ${day}일`,
                                            day: dayOfWeek === 0 ? '일요일' : '토요일',
                                            score: score,
                                            reasons: reasons,
                                            dayAnimal: dayAnimal
                                        });
                                    }
                                }
                            });
                        }
                    }

                    const topDates = auspiciousDates.sort((a, b) => b.score - a.score).slice(0, 6);

                    setResult({
                        groom: { zodiac: groomZodiac, name: inputs.groomName || '신랑님' },
                        bride: { zodiac: brideZodiac, name: inputs.brideName || '신부님' },
                        luckyElement: luckyElement,
                        luckyLocation: LOCATIONS[luckyElement],
                        dates: topDates,
                        harmonyScore: 85 + Math.floor(rng() * 14) 
                    });

                    setLoading(false);
                    setStep(2);
                }, 2000); 
            };

            return (
                <div className="min-h-screen bg-stone-50 text-stone-800 font-sans selection:bg-red-100">
                    <header className="bg-stone-900 text-stone-100 py-6 px-4 shadow-lg border-b-4 border-red-800 sticky top-0 z-10">
                        <div className="max-w-4xl mx-auto flex items-center justify-between">
                            <div className="flex items-center space-x-2 cursor-pointer" onClick={() => {setStep(1); setResult(null);}}>
                                <Sparkles className="w-6 h-6 text-red-400" />
                                <h1 className="text-2xl font-bold tracking-wider font-serif">천생연분 (天生緣分)</h1>
                            </div>
                            <div className="flex items-center gap-4">
                                <a href="../index.html" className="text-xs text-stone-400 hover:text-white transition-colors flex items-center">
                                    <ChevronRight className="w-3 h-3 rotate-180 mr-1"/> 메인으로
                                </a>
                                <p className="text-xs text-stone-400 hidden sm:block">명리학 기반 정통 택일 & 풍수 추천</p>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-4xl mx-auto p-4 md:p-8">
                        {step === 1 && (
                            <div className="space-y-8 animate-fade-in-up">
                                <div className="text-center space-y-4 mb-10">
                                    <h2 className="text-3xl md:text-4xl font-serif text-stone-800 font-bold">평생을 함께할 최고의 날</h2>
                                    <p className="text-stone-500 max-w-lg mx-auto leading-relaxed">
                                        결혼은 인륜지대사(人倫之大事)입니다. <br/>
                                        신랑 신부님의 사주를 정밀 분석하여, 두 분의 앞날에 복이 깃들 길일과 명당을 찾아드립니다.
                                    </p>
                                </div>

                                <div className="bg-white rounded-2xl shadow-xl p-6 md:p-10 border border-stone-200">
                                    <div className="mb-8 bg-stone-50 p-4 rounded-xl border border-stone-200">
                                        <label className="block text-sm font-bold text-stone-700 mb-2 flex items-center">
                                            <Calendar className="w-4 h-4 mr-2" />
                                            결혼 예정 년도 (Target Year)
                                        </label>
                                        <div className="flex items-center space-x-4">
                                            <select 
                                                name="targetYear"
                                                value={inputs.targetYear}
                                                onChange={handleInputChange}
                                                className="flex-1 bg-white border border-stone-300 rounded-lg p-3 focus:ring-2 focus:ring-stone-500 focus:outline-none transition font-medium"
                                            >
                                                {Array.from({ length: 30 }, (_, i) => currentYear + i).map(year => (
                                                    <option key={year} value={year}>{year}년</option>
                                                ))}
                                            </select>
                                            <span className="text-xs text-stone-500 flex-1">* 선택하신 년도를 기준으로 2년치 길일을 분석합니다.</span>
                                        </div>
                                    </div>

                                    <div className="grid md:grid-cols-2 gap-10">
                                        <div className="space-y-4 relative">
                                            <div className="flex items-center space-x-2 border-b-2 border-blue-900 pb-2 mb-4">
                                                <User className="w-5 h-5 text-blue-900" />
                                                <h3 className="text-xl font-bold text-blue-900">신랑 (Groom)</h3>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-stone-600 mb-1">성함 (선택)</label>
                                                <input type="text" name="groomName" placeholder="예: 홍길동" value={inputs.groomName} className="w-full bg-stone-50 border border-stone-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-900 focus:outline-none transition" onChange={handleInputChange} />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-stone-600 mb-1">생년월일 (양력)</label>
                                                <input type="date" name="groomDate" value={inputs.groomDate} className="w-full bg-stone-50 border border-stone-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-900 focus:outline-none transition" onChange={handleInputChange} />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-stone-600 mb-1">태어난 시간 (모르면 비워둠)</label>
                                                <input type="time" name="groomTime" value={inputs.groomTime} className="w-full bg-stone-50 border border-stone-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-900 focus:outline-none transition" onChange={handleInputChange} />
                                            </div>
                                        </div>

                                        <div className="space-y-4 relative">
                                            <div className="flex items-center space-x-2 border-b-2 border-red-800 pb-2 mb-4">
                                                <User className="w-5 h-5 text-red-800" />
                                                <h3 className="text-xl font-bold text-red-800">신부 (Bride)</h3>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-stone-600 mb-1">성함 (선택)</label>
                                                <input type="text" name="brideName" placeholder="예: 김미영" value={inputs.brideName} className="w-full bg-stone-50 border border-stone-300 rounded-lg p-3 focus:ring-2 focus:ring-red-800 focus:outline-none transition" onChange={handleInputChange} />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-stone-600 mb-1">생년월일 (양력)</label>
                                                <input type="date" name="brideDate" value={inputs.brideDate} className="w-full bg-stone-50 border border-stone-300 rounded-lg p-3 focus:ring-2 focus:ring-red-800 focus:outline-none transition" onChange={handleInputChange} />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-stone-600 mb-1">태어난 시간 (모르면 비워둠)</label>
                                                <input type="time" name="brideTime" value={inputs.brideTime} className="w-full bg-stone-50 border border-stone-300 rounded-lg p-3 focus:ring-2 focus:ring-red-800 focus:outline-none transition" onChange={handleInputChange} />
                                            </div>
                                        </div>
                                    </div>

                                    <div className="mt-12 flex justify-center">
                                        <button
                                            onClick={calculateSaju}
                                            disabled={!inputs.groomDate || !inputs.brideDate}
                                            className={`group relative px-12 py-4 rounded-full text-lg font-bold shadow-xl transform transition-all duration-300 hover:scale-105 flex items-center space-x-3 overflow-hidden ${(!inputs.groomDate || !inputs.brideDate) ? 'bg-stone-300 text-stone-500 cursor-not-allowed' : 'bg-stone-900 text-white hover:bg-stone-800'}`}
                                        >
                                            {loading ? (
                                                <>
                                                    <Compass className="w-5 h-5 animate-spin" />
                                                    <span>운세와 기운을 읽는 중...</span>
                                                </>
                                            ) : (
                                                <>
                                                    <Sparkles className="w-5 h-5 text-yellow-400 group-hover:rotate-12 transition-transform" />
                                                    <span>길일 & 명당 분석하기</span>
                                                    <ChevronRight className="w-4 h-4 opacity-70" />
                                                </>
                                            )}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {step === 2 && result && (
                            <div className="space-y-8 animate-fade-in-up">
                                <div className="bg-white rounded-2xl shadow-xl overflow-hidden border border-stone-200">
                                    <div className="bg-gradient-to-r from-stone-800 to-stone-900 p-8 text-white text-center relative">
                                        <div className="absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/korean-pattern.png')]"></div>
                                        <h3 className="text-xl font-serif text-yellow-500 mb-1">사주 명조 분석 결과</h3>
                                        <div className="flex justify-center items-center space-x-12 mt-6">
                                            <div className="text-center">
                                                <span className="block text-sm opacity-70 mb-1">신랑</span>
                                                <span className="text-3xl font-bold">{result.groom.zodiac.sign}띠</span>
                                                <span className="block text-xs mt-2 px-3 py-1 rounded-full bg-white/20">{result.groom.zodiac.element} (Groom)</span>
                                            </div>
                                            <div className="flex flex-col items-center">
                                                <Heart className="w-10 h-10 text-red-500 fill-current animate-pulse mb-2" />
                                                <span className="text-2xl font-bold text-yellow-400">{result.harmonyScore}점</span>
                                            </div>
                                            <div className="text-center">
                                                <span className="block text-sm opacity-70 mb-1">신부</span>
                                                <span className="text-3xl font-bold">{result.bride.zodiac.sign}띠</span>
                                                <span className="block text-xs mt-2 px-3 py-1 rounded-full bg-white/20">{result.bride.zodiac.element} (Bride)</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-stone-200">
                                    <div className="flex items-center space-x-3 mb-8 pb-4 border-b border-stone-100">
                                        <div className="bg-red-100 p-2 rounded-lg">
                                            <Calendar className="w-6 h-6 text-red-800" />
                                        </div>
                                        <div>
                                            <h3 className="text-xl font-bold text-stone-800">추천 결혼 길일 (Top 6)</h3>
                                            <p className="text-xs text-stone-500 mt-1">{inputs.targetYear}년부터 2년간의 날짜 중, 가장 기운이 좋은 날들입니다.</p>
                                        </div>
                                    </div>
                                    
                                    <div className="grid md:grid-cols-2 gap-6">
                                        {result.dates.map((date, idx) => (
                                            <div key={idx} className="relative bg-stone-50 rounded-xl border border-stone-200 hover:border-red-300 hover:shadow-md transition duration-300 overflow-hidden group">
                                                <div className="absolute top-0 left-0 w-1 h-full bg-red-800 group-hover:bg-red-600 transition-colors"></div>
                                                <div className="p-5">
                                                    <div className="flex justify-between items-start mb-3">
                                                        <div>
                                                            <span className="inline-block px-2 py-0.5 bg-stone-200 text-stone-600 text-[10px] font-bold rounded mb-1">RANK {idx + 1}</span>
                                                            <h4 className="font-bold text-xl text-stone-800 flex items-center">
                                                                {date.dateStr} 
                                                                <span className={`ml-2 text-sm font-medium ${date.day === '일요일' ? 'text-red-500' : 'text-blue-600'}`}>
                                                                    {date.day}
                                                                </span>
                                                            </h4>
                                                        </div>
                                                        <div className="flex flex-col items-end">
                                                            <span className="text-xs text-stone-400">길일지수</span>
                                                            <span className="text-lg font-bold text-red-800">{date.score}</span>
                                                        </div>
                                                    </div>
                                                    <div className="mt-3 space-y-2">
                                                        <div className="flex items-start space-x-2">
                                                            <BookOpen className="w-4 h-4 text-stone-400 mt-0.5 shrink-0" />
                                                            <div className="text-sm text-stone-600 leading-snug">
                                                                {date.reasons.map((reason, i) => (
                                                                    <p key={i} className="mb-1 last:mb-0 word-keep-all">• {reason}</p>
                                                                ))}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-stone-200">
                                    <div className="flex items-center space-x-3 mb-6 pb-4 border-b border-stone-100">
                                        <div className="bg-blue-100 p-2 rounded-lg">
                                            <MapPin className="w-6 h-6 text-blue-900" />
                                        </div>
                                        <div>
                                            <h3 className="text-xl font-bold text-stone-800">풍수지리 명당 추천</h3>
                                            <p className="text-xs text-stone-500 mt-1">부족한 기운을 채워줄 예식 장소와 신혼집 방향입니다.</p>
                                        </div>
                                    </div>
                                    
                                    <div className="flex flex-col md:flex-row items-stretch gap-6">
                                        <div className="md:w-1/3 bg-blue-50 rounded-xl p-6 flex flex-col justify-center items-center text-center border border-blue-100">
                                            <span className="text-sm text-stone-500 mb-2">행운의 방위</span>
                                            <div className="text-5xl font-serif font-bold text-blue-900 mb-3">{result.luckyLocation.direction}</div>
                                            <div className="px-3 py-1 bg-white rounded-full text-xs font-bold text-blue-800 border border-blue-200">
                                                오행: {result.luckyElement}
                                            </div>
                                        </div>

                                        <div className="md:w-2/3 flex flex-col justify-center space-y-4">
                                            <div>
                                                <h4 className="font-bold text-stone-800 mb-2">추천 지역 (서울/경기 기준)</h4>
                                                <div className="flex flex-wrap gap-2">
                                                    {result.luckyLocation.areas.map((area, idx) => (
                                                        <span key={idx} className="px-4 py-2 bg-white border border-stone-200 rounded-lg shadow-sm text-stone-700 font-medium hover:bg-stone-50 transition">
                                                            {area}
                                                        </span>
                                                    ))}
                                                </div>
                                            </div>
                                            <div className="bg-stone-100 p-4 rounded-xl text-sm text-stone-600 leading-relaxed border border-stone-200">
                                                <p className="word-keep-all">
                                                    <span className="font-bold text-stone-800">[풍수 조언]</span><br/>
                                                    {result.luckyLocation.desc} 방향입니다. 이 곳은 <strong>{result.luckyLocation.benefit}</strong>의 기운이 강합니다.
                                                    두 분의 사주에 부족한 <span className="text-blue-900 font-bold">{result.luckyElement}</span> 기운을 이 방향에서 얻으시면
                                                    부부 생활이 더욱 원만하고 재물운이 상승합니다.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="flex justify-center pt-8 pb-10">
                                    <button 
                                        onClick={() => { setStep(1); setResult(null); }}
                                        className="group text-stone-500 hover:text-stone-800 flex items-center transition px-6 py-3 rounded-lg hover:bg-stone-100"
                                    >
                                        <Clock className="w-4 h-4 mr-2 group-hover:-rotate-12 transition-transform" />
                                        <span className="underline underline-offset-4">다른 정보로 다시 분석하기</span>
                                    </button>
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>