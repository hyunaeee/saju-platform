<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš´ëª…ì˜ ì„œ - ì •í†µ ëª…ë¦¬í•™ ì˜¤ëŠ˜ì˜ ìš´ì„¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6906055503131628"
     crossorigin="anonymous"></script>
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #1a1a1a;
            color: #e5e5e5;
            background-image: radial-gradient(#2d2d2d 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .serif {
            font-family: 'Noto Serif KR', serif;
        }
        .wood-pattern {
            background-color: #2c1810;
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 20c0-11.05-8.95-20-20-20s-20 8.95-20 20 8.95 20 20 20 20-8.95 20-20zm0 0c0 11.05 8.95 20 20 20s20-8.95 20-20-8.95-20-20-20-20 8.95-20 20z' fill='%233e2723' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        .card-bg {
            background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .gold-text {
            color: #d4af37;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        .input-style {
            background-color: #2d2d2d;
            border: 1px solid #444;
            color: white;
            transition: all 0.3s ease;
        }
        .input-style:focus {
            border-color: #d4af37;
            outline: none;
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }
        .btn-gold {
            background: linear-gradient(135deg, #d4af37 0%, #aa8a2e 100%);
            color: #1a1a1a;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .btn-gold:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .spin-slow {
            animation: spin 10s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .manse-box {
            border: 1px solid #444;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            background: #252525;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Header -->
    <header class="text-center mb-8 fade-in">
        <div class="mb-4 inline-block relative">
            <div class="absolute inset-0 bg-yellow-500 rounded-full blur-2xl opacity-10"></div>
            <svg class="w-16 h-16 mx-auto text-yellow-600 spin-slow relative z-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
        </div>
        <h1 class="text-4xl md:text-5xl font-bold serif gold-text mb-2">ìš´ëª…ì˜ ì„œ</h1>
        <p class="text-gray-400 text-sm md:text-base">ëª…ë¦¬í•™ìœ¼ë¡œ í’€ì–´ë³´ëŠ” ë‹¹ì‹ ì˜ ì˜¤ëŠ˜</p>
    </header>

    <!-- Main Container -->
    <main class="w-full max-w-2xl fade-in" style="animation-delay: 0.2s;">
        
        <!-- Input Form -->
        <div id="inputSection" class="card-bg rounded-2xl p-6 md:p-10 wood-pattern relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-yellow-600 to-transparent opacity-50"></div>
            
            <h2 class="text-2xl serif text-center mb-8 text-white">ì‚¬ì£¼ ì •ë³´ ì…ë ¥</h2>
            
            <form id="sajuForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- ì´ë¦„ -->
                    <div>
                        <label class="block text-sm text-gray-400 mb-2">ì´ë¦„ (ì„ íƒ)</label>
                        <input type="text" id="username" placeholder="í™ê¸¸ë™" class="w-full p-3 rounded-lg input-style">
                    </div>
                    <!-- ì„±ë³„ -->
                    <div>
                        <label class="block text-sm text-gray-400 mb-2">ì„±ë³„</label>
                        <div class="flex space-x-4">
                            <label class="flex-1 cursor-pointer">
                                <input type="radio" name="gender" value="male" class="peer hidden" checked>
                                <div class="w-full p-3 rounded-lg border border-gray-600 text-center peer-checked:bg-blue-900 peer-checked:border-blue-500 hover:bg-gray-700 transition">ë‚¨ì„±</div>
                            </label>
                            <label class="flex-1 cursor-pointer">
                                <input type="radio" name="gender" value="female" class="peer hidden">
                                <div class="w-full p-3 rounded-lg border border-gray-600 text-center peer-checked:bg-red-900 peer-checked:border-red-500 hover:bg-gray-700 transition">ì—¬ì„±</div>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- ìƒë…„ì›”ì¼ -->
                    <div>
                        <label class="block text-sm text-gray-400 mb-2">ìƒë…„ì›”ì¼ (ì–‘ë ¥)</label>
                        <input type="date" id="birthdate" required class="w-full p-3 rounded-lg input-style">
                    </div>
                    <!-- íƒœì–´ë‚œ ì‹œê°„ -->
                    <div>
                        <label class="block text-sm text-gray-400 mb-2">íƒœì–´ë‚œ ì‹œê°„</label>
                        <select id="birthtime" class="w-full p-3 rounded-lg input-style">
                            <option value="unknown">ëª¨ë¦„</option>
                            <option value="0">ìì‹œ (23:30 ~ 01:29)</option>
                            <option value="1">ì¶•ì‹œ (01:30 ~ 03:29)</option>
                            <option value="2">ì¸ì‹œ (03:30 ~ 05:29)</option>
                            <option value="3">ë¬˜ì‹œ (05:30 ~ 07:29)</option>
                            <option value="4">ì§„ì‹œ (07:30 ~ 09:29)</option>
                            <option value="5">ì‚¬ì‹œ (09:30 ~ 11:29)</option>
                            <option value="6">ì˜¤ì‹œ (11:30 ~ 13:29)</option>
                            <option value="7">ë¯¸ì‹œ (13:30 ~ 15:29)</option>
                            <option value="8">ì‹ ì‹œ (15:30 ~ 17:29)</option>
                            <option value="9">ìœ ì‹œ (17:30 ~ 19:29)</option>
                            <option value="10">ìˆ ì‹œ (19:30 ~ 21:29)</option>
                            <option value="11">í•´ì‹œ (21:30 ~ 23:29)</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="w-full py-4 rounded-xl btn-gold text-lg mt-8 shadow-lg">
                    ìš´ì„¸ í™•ì¸í•˜ê¸°
                </button>
            </form>
        </div>

        <!-- Loading Section -->
        <div id="loadingSection" class="hidden text-center py-20">
            <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-yellow-500 mb-4"></div>
            <p class="text-xl serif text-gray-300 animate-pulse">ì²œì§€ ê¸°ìš´ì„ ì½ê³  ìˆìŠµë‹ˆë‹¤...</p>
        </div>

        <!-- Result Section -->
        <div id="resultSection" class="hidden space-y-8">
            
            <!-- User Info & Manseok -->
            <div class="card-bg rounded-2xl p-6 border-t-4 border-yellow-600">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                    <h2 class="text-2xl serif gold-text"><span id="resultName"></span>ë‹˜ì˜ ëª…ì¡°</h2>
                    <span id="currentDateDisplay" class="text-sm text-gray-400 mt-2 md:mt-0"></span>
                </div>
                
                <div class="grid grid-cols-4 gap-2 md:gap-4 text-center mb-4">
                    <div class="manse-box">
                        <div class="text-xs text-gray-500 mb-1">ì‹œì£¼</div>
                        <div id="hourPillar" class="text-xl md:text-2xl font-bold serif text-white">-</div>
                    </div>
                    <div class="manse-box border-yellow-600/50 bg-yellow-900/10">
                        <div class="text-xs text-yellow-500 mb-1">ì¼ì£¼(ë³¸ì¸)</div>
                        <div id="dayPillar" class="text-xl md:text-2xl font-bold serif gold-text">-</div>
                    </div>
                    <div class="manse-box">
                        <div class="text-xs text-gray-500 mb-1">ì›”ì£¼</div>
                        <div id="monthPillar" class="text-xl md:text-2xl font-bold serif text-white">-</div>
                    </div>
                    <div class="manse-box">
                        <div class="text-xs text-gray-500 mb-1">ë…„ì£¼</div>
                        <div id="yearPillar" class="text-xl md:text-2xl font-bold serif text-white">-</div>
                    </div>
                </div>
                <div class="text-center">
                    <p id="myElement" class="text-sm text-gray-300"></p>
                </div>
            </div>

            <!-- Total Luck Score -->
            <div class="bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-8 text-center shadow-lg border border-gray-700">
                <h3 class="text-xl serif text-gray-300 mb-4">ì˜¤ëŠ˜ì˜ ì¢…í•© ìš´ì„¸ ì§€ìˆ˜</h3>
                <div class="relative pt-1">
                    <div class="flex mb-2 items-center justify-between">
                        <span id="scoreComment" class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-yellow-600 bg-yellow-200">
                            ìš´ìˆ˜ëŒ€í†µ
                        </span>
                        <div class="text-right">
                            <span id="scoreValue" class="text-3xl font-bold text-yellow-500">90</span>
                            <span class="text-sm text-gray-400">/ 100</span>
                        </div>
                    </div>
                    <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-700">
                        <div id="scoreBar" style="width:0%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-yellow-500 transition-all duration-1000 ease-out"></div>
                    </div>
                </div>
                <p id="totalFortuneText" class="text-gray-300 leading-relaxed mt-4 break-keep">
                    <!-- JS generated text -->
                </p>
            </div>

            <!-- New Section: Special Advice (Caution, Good Energy, Prediction) -->
            <div class="card-bg rounded-xl p-6 border border-gray-700 relative overflow-hidden">
                <div class="absolute right-0 top-0 w-24 h-24 bg-purple-500 blur-3xl opacity-10"></div>
                <h3 class="text-xl serif gold-text mb-6 text-center">ì˜¤ëŠ˜ì˜ ì²œê¸°ëˆ„ì„¤(å¤©æ©Ÿæ¼æ´©)</h3>
                
                <div class="space-y-5">
                    <!-- Caution -->
                    <div class="flex flex-col sm:flex-row gap-3 sm:items-start border-b border-gray-700 pb-4 last:border-0 last:pb-0">
                        <div class="flex items-center sm:w-24 shrink-0 text-red-400 font-bold">
                            <span class="mr-2 text-xl">âš¡</span>
                            <span>ì£¼ì˜</span>
                        </div>
                        <p id="cautionText" class="text-sm text-gray-300 leading-relaxed break-keep flex-1"></p>
                    </div>

                    <!-- Good Energy -->
                    <div class="flex flex-col sm:flex-row gap-3 sm:items-start border-b border-gray-700 pb-4 last:border-0 last:pb-0">
                        <div class="flex items-center sm:w-24 shrink-0 text-green-400 font-bold">
                            <span class="mr-2 text-xl">ğŸ€</span>
                            <span>ê¸¸ìš´</span>
                        </div>
                        <p id="goodText" class="text-sm text-gray-300 leading-relaxed break-keep flex-1"></p>
                    </div>

                    <!-- Prediction -->
                    <div class="flex flex-col sm:flex-row gap-3 sm:items-start">
                        <div class="flex items-center sm:w-24 shrink-0 text-purple-400 font-bold">
                            <span class="mr-2 text-xl">ğŸ”®</span>
                            <span>ì˜ˆì–¸</span>
                        </div>
                        <p id="predictionText" class="text-sm text-gray-300 leading-relaxed break-keep flex-1"></p>
                    </div>
                </div>
            </div>

            <!-- Detailed Fortunes Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Wealth -->
                <div class="card-bg rounded-xl p-6 hover:bg-gray-800 transition duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">ğŸ’°</span>
                        <h4 class="text-lg font-bold text-gray-200">ì¬ë¬¼ìš´</h4>
                    </div>
                    <p id="wealthText" class="text-sm text-gray-400 leading-relaxed break-keep"></p>
                </div>

                <!-- Love -->
                <div class="card-bg rounded-xl p-6 hover:bg-gray-800 transition duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">â¤ï¸</span>
                        <h4 class="text-lg font-bold text-gray-200">ì• ì •ìš´</h4>
                    </div>
                    <p id="loveText" class="text-sm text-gray-400 leading-relaxed break-keep"></p>
                </div>

                <!-- Career -->
                <div class="card-bg rounded-xl p-6 hover:bg-gray-800 transition duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">ğŸ’¼</span>
                        <h4 class="text-lg font-bold text-gray-200">ì§ì¥/í•™ì—…ìš´</h4>
                    </div>
                    <p id="careerText" class="text-sm text-gray-400 leading-relaxed break-keep"></p>
                </div>

                <!-- Health -->
                <div class="card-bg rounded-xl p-6 hover:bg-gray-800 transition duration-300">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">ğŸŒ¿</span>
                        <h4 class="text-lg font-bold text-gray-200">ê±´ê°•ìš´</h4>
                    </div>
                    <p id="healthText" class="text-sm text-gray-400 leading-relaxed break-keep"></p>
                </div>
            </div>

            <!-- Lucky Items -->
            <div class="card-bg rounded-2xl p-6">
                <h3 class="text-lg font-bold text-gray-200 mb-4 text-center border-b border-gray-700 pb-2">ì˜¤ëŠ˜ì˜ í–‰ìš´ ë¹„ë°©(ç§˜æ–¹)</h3>
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div>
                        <div class="text-2xl mb-1">ğŸ¨</div>
                        <div class="text-xs text-gray-500">í–‰ìš´ì˜ ìƒ‰</div>
                        <div id="luckyColor" class="font-bold text-yellow-500 mt-1">í™©ê¸ˆìƒ‰</div>
                    </div>
                    <div>
                        <div class="text-2xl mb-1">ğŸ§­</div>
                        <div class="text-xs text-gray-500">í–‰ìš´ì˜ ë°©í–¥</div>
                        <div id="luckyDirection" class="font-bold text-yellow-500 mt-1">ë™ìª½</div>
                    </div>
                    <div>
                        <div class="text-2xl mb-1">ğŸ”¢</div>
                        <div class="text-xs text-gray-500">í–‰ìš´ì˜ ìˆ«ì</div>
                        <div id="luckyNumber" class="font-bold text-yellow-500 mt-1">7</div>
                    </div>
                </div>
            </div>

            <button onclick="window.location.reload()" class="w-full py-3 rounded-xl border border-gray-600 text-gray-400 hover:text-white hover:border-white transition mb-10">
                ë‹¤ë¥¸ ì‚¬ì£¼ë¡œ ë‹¤ì‹œ ë³´ê¸°
            </button>
        </div>
    </main>

    <footer class="text-center text-xs text-gray-600 mt-auto pb-4">
        &copy; 2024 ìš´ëª…ì˜ ì„œ. ëª…ë¦¬í•™ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ ì ìš©.<br>
        ìš´ì„¸ëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì¦ê²¨ì£¼ì„¸ìš”. ë‹¹ì‹ ì˜ ìš´ëª…ì€ ë‹¹ì‹ ì´ ê°œì²™í•©ë‹ˆë‹¤.
    </footer>

    <script>
        // --- Data & Logic Section ---

        // ì²œê°„, ì§€ì§€ ë°ì´í„°
        const cheongan = ['ê°‘(ç”²)', 'ì„(ä¹™)', 'ë³‘(ä¸™)', 'ì •(ä¸)', 'ë¬´(æˆŠ)', 'ê¸°(å·±)', 'ê²½(åºš)', 'ì‹ (è¾›)', 'ì„(å£¬)', 'ê³„(ç™¸)'];
        const jiji = ['ì(å­)', 'ì¶•(ä¸‘)', 'ì¸(å¯…)', 'ë¬˜(å¯)', 'ì§„(è¾°)', 'ì‚¬(å·³)', 'ì˜¤(åˆ)', 'ë¯¸(æœª)', 'ì‹ (ç”³)', 'ìœ (é…‰)', 'ìˆ (æˆŒ)', 'í•´(äº¥)'];
        const sibsin = ['ë¹„ê²¬', 'ê²ì¬', 'ì‹ì‹ ', 'ìƒê´€', 'í¸ì¬', 'ì •ì¬', 'í¸ê´€', 'ì •ê´€', 'í¸ì¸', 'ì •ì¸'];
        
        // ì˜¤í–‰ ë§¤í•‘ (ëª©, í™”, í† , ê¸ˆ, ìˆ˜)
        const elementMap = {
            'ê°‘': 'ëª©', 'ì„': 'ëª©', 'ì¸': 'ëª©', 'ë¬˜': 'ëª©',
            'ë³‘': 'í™”', 'ì •': 'í™”', 'ì‚¬': 'í™”', 'ì˜¤': 'í™”',
            'ë¬´': 'í† ', 'ê¸°': 'í† ', 'ì§„': 'í† ', 'ìˆ ': 'í† ', 'ì¶•': 'í† ', 'ë¯¸': 'í† ',
            'ê²½': 'ê¸ˆ', 'ì‹ ': 'ê¸ˆ', 'ì‹ (ç”³)': 'ê¸ˆ', 'ìœ ': 'ê¸ˆ',
            'ì„': 'ìˆ˜', 'ê³„': 'ìˆ˜', 'í•´': 'ìˆ˜', 'ì': 'ìˆ˜'
        };

        // ìš´ì„¸ í…ìŠ¤íŠ¸ í…œí”Œë¦¿ ë°ì´í„°ë² ì´ìŠ¤
        const fortuneDB = {
            high: {
                total: ["ë§ˆì¹˜ ìˆœí’ì— ë›ì„ ë‹¨ ë“¯ ëª¨ë“  ì¼ì´ ìˆœì¡°ë¡­ê²Œ í’€ë¦¬ëŠ” ë‚ ì…ë‹ˆë‹¤. ê·¸ë™ì•ˆ ë…¸ë ¥í–ˆë˜ ì¼ë“¤ì´ ê²°ì‹¤ì„ ë§ºì„ ì§•ì¡°ê°€ ë³´ì…ë‹ˆë‹¤.", "í•˜ëŠ˜ì˜ ê¸°ìš´ì´ ë‹¹ì‹ ì„ ë•ê³  ìˆìŠµë‹ˆë‹¤. ì£¼ì €í•˜ì§€ ë§ê³  ê³„íší–ˆë˜ ì¼ì„ ì¶”ì§„í•´ë³´ì„¸ìš”. ê·€ì¸ì˜ ë„ì›€ì´ ë”°ë¥¼ ê²ƒì…ë‹ˆë‹¤.", "ìŒì–‘ì˜ ì¡°í™”ê°€ ì™„ë²½í•˜ì—¬ ë§ˆìŒì´ í‰ì•ˆí•˜ê³  ì‹ ì²´ê°€ ê±´ê°•í•œ í•˜ë£¨ì…ë‹ˆë‹¤. í° ê²°ë‹¨ì„ ë‚´ë ¤ë„ ì¢‹ìŠµë‹ˆë‹¤."],
                wealth: ["ëœ»ë°–ì˜ íš¡ì¬ìˆ˜ê°€ ìˆê±°ë‚˜ íˆ¬ìì— ëŒ€í•œ ì¢‹ì€ ì†Œì‹ì´ ë“¤ë ¤ì˜µë‹ˆë‹¤.", "ì§€ê°‘ì´ ë‘ë‘‘í•´ì§€ëŠ” ë‚ ì…ë‹ˆë‹¤. ì‘ì€ ì§€ì¶œë³´ë‹¤ëŠ” ë¯¸ë˜ë¥¼ ìœ„í•œ íˆ¬ìê°€ ì¢‹ìŠµë‹ˆë‹¤.", "ê¸ˆì „ íë¦„ì´ ë§¤ìš° ì›í™œí•©ë‹ˆë‹¤. ëˆ„êµ°ê°€ì—ê²Œ ë² í’€ë©´ ë°°ë¡œ ëŒì•„ì˜µë‹ˆë‹¤."],
                love: ["ì• ì •ìš´ì´ ìµœìƒì…ë‹ˆë‹¤. ì†”ë¡œë¼ë©´ ìš´ëª…ì˜ ìƒëŒ€ë¥¼ ë§ˆì£¼ì¹  ìˆ˜ ìˆìœ¼ë©°, ì»¤í”Œì€ ê´€ê³„ê°€ ê¹Šì–´ì§‘ë‹ˆë‹¤.", "ìƒëŒ€ë°©ì´ ë‹¹ì‹ ì˜ ë§¤ë ¥ì„ ê¹Šì´ ëŠë¼ëŠ” ë‚ ì…ë‹ˆë‹¤. ê³ ë°±í•˜ê¸° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤.", "ì˜¤í•´ê°€ í’€ë¦¬ê³  ì‚¬ë‘ì´ ë‹¤ì‹œ ì‹¹íŠ¸ëŠ” ì‹œê¸°ì…ë‹ˆë‹¤."],
                career: ["ì§ì¥ì—ì„œ ëŠ¥ë ¥ì„ ì¸ì •ë°›ê³  ìŠ¹ì§„ì´ë‚˜ ë³´ë„ˆìŠ¤ì˜ ê¸°íšŒê°€ ìƒê¹ë‹ˆë‹¤.", "í•™ì—… ì„±ì·¨ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ì‹œí—˜ì´ë‚˜ ë©´ì ‘ì—ì„œ ì¢‹ì€ ê²°ê³¼ê°€ ì˜ˆìƒë©ë‹ˆë‹¤.", "ë™ë£Œë“¤ì˜ ì§€ì§€ë¥¼ ë°›ì•„ ë¦¬ë”ì‹­ì„ ë°œíœ˜í•  ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤."],
                health: ["í™œë ¥ì´ ë„˜ì¹˜ê³  ì»¨ë””ì…˜ì´ ìµœìƒì…ë‹ˆë‹¤. ê°€ë²¼ìš´ ìš´ë™ìœ¼ë¡œ ê¸°ìš´ì„ ë” ë¶ë‹ìš°ì„¸ìš”.", "ëª¸ê³¼ ë§ˆìŒì´ ê°€ë²¼ì›Œ ì–´ë–¤ ì¼ì´ë“  í•´ë‚¼ ìˆ˜ ìˆëŠ” ì²´ë ¥ì…ë‹ˆë‹¤.", "ë³‘ì„¸ê°€ ìˆì—ˆë‹¤ë©´ í˜¸ì „ë  ê¸°ë¯¸ê°€ ë³´ì…ë‹ˆë‹¤."],
                caution: ["ë„ˆë¬´ ê°•í•œ ìš´ì€ ì‹œê¸°ë¥¼ ë¶€ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²¸ì†í•œ íƒœë„ë¥¼ ìƒì§€ ë§ˆì„¸ìš”.", "ê¸°ë¶„ì— ì·¨í•´ ê³¼ìŒí•˜ê±°ë‚˜ ëŠ¦ì€ ê·€ê°€ëŠ” í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.", "ìì‹ ê°ì´ ê³¼í•˜ë©´ ì‹¤ìˆ˜ê°€ ë”°ë¦…ë‹ˆë‹¤. ëŒë‹¤ë¦¬ë„ ë‘ë“¤ê²¨ ë³´ì„¸ìš”."],
                good: ["ìƒˆë¡œìš´ ì‚¬ëŒê³¼ì˜ ë§Œë‚¨ì´ ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤. ëª…í•¨ì„ êµí™˜í•˜ê±°ë‚˜ ì¸ì‚¬ë¥¼ ê±´ë„¤ë³´ì„¸ìš”.", "ì°½ì˜ì ì¸ í™œë™ì´ë‚˜ ê¸°íš ì—…ë¬´ì—ì„œ ë¹›ì„ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.", "ì˜¤ë«ë™ì•ˆ ê³ ë¯¼í•˜ë˜ ë¬¸ì œë¥¼ í•´ê²°í•  ì‹¤ë§ˆë¦¬ë¥¼ ì°¾ê²Œ ë©ë‹ˆë‹¤."],
                prediction: ["ì˜¤í›„ ëŠ¦ê²Œ ë°˜ê°€ìš´ ì—°ë½ì´ë‚˜ ì†Œì‹ì´ ë„ì°©í•  ê²ƒì…ë‹ˆë‹¤.", "ìš°ì—°íˆ ë“¤ë¥¸ ê³³ì—ì„œ ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê·€í•œ ì •ë³´ë¥¼ ì–»ê²Œ ë©ë‹ˆë‹¤.", "ì˜¤ëŠ˜ ë‹¹ì‹ ì´ ë‚´ë¦° ê²°ì •ì€ ì¼ì£¼ì¼ ë‚´ë¡œ ê¸ì •ì ì¸ ê²°ê³¼ë¡œ ëŒì•„ì˜µë‹ˆë‹¤."]
            },
            mid: {
                total: ["í‰ë²”í•¨ ì†ì— ì†Œì†Œí•œ í–‰ë³µì´ ê¹ƒë“  ë‚ ì…ë‹ˆë‹¤. ë¬´ë¦¬í•˜ì§€ ì•Šê³  í˜„ì¬ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ê°€ì¥ í° ì§€í˜œì…ë‹ˆë‹¤.", "ì¢‹ì€ ì¼ê³¼ ë‚˜ìœ ì¼ì´ êµì°¨í•˜ì§€ë§Œ, ë§ˆìŒê°€ì§ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ê¸ì •ì ìœ¼ë¡œ ìƒê°í•˜ì„¸ìš”.", "íë¥´ëŠ” ë¬¼ì²˜ëŸ¼ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ë©´ í° ë¬¸ì œ ì—†ì´ ì§€ë‚˜ê°ˆ í•˜ë£¨ì…ë‹ˆë‹¤."],
                wealth: ["ìˆ˜ì…ê³¼ ì§€ì¶œì´ ê· í˜•ì„ ì´ë£¹ë‹ˆë‹¤. ì¶©ë™êµ¬ë§¤ë§Œ ì¡°ì‹¬í•˜ë©´ ë¬´ë‚œí•©ë‹ˆë‹¤.", "í° ì´ë“ì€ ì—†ì§€ë§Œ ì†í•´ë„ ì—†ëŠ” ë‚ ì…ë‹ˆë‹¤. í˜„ìƒ ìœ ì§€ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.", "ì§€ì¸ê³¼ì˜ ê¸ˆì „ ê±°ë˜ëŠ” ì‹ ì¤‘í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."],
                love: ["í¸ì•ˆí•œ ê´€ê³„ê°€ ì§€ì†ë©ë‹ˆë‹¤. íŠ¹ë³„í•œ ì´ë²¤íŠ¸ë³´ë‹¤ëŠ” ì¼ìƒì˜ ëŒ€í™”ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.", "ì•½ê°„ì˜ ë‹¤íˆ¼ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‚˜ ëŒ€í™”ë¡œ ê¸ˆë°© í•´ê²°ë  ë¬¸ì œì…ë‹ˆë‹¤.", "ìƒˆë¡œìš´ ë§Œë‚¨ë³´ë‹¤ëŠ” ê¸°ì¡´ì˜ ì¸ì—°ì„ ì†Œì¤‘íˆ í•˜ì„¸ìš”."],
                career: ["ë§¡ì€ ë°” ì—…ë¬´ë¥¼ ë¬µë¬µíˆ ì²˜ë¦¬í•˜ë©´ ì„±ê³¼ê°€ ë”°ë¦…ë‹ˆë‹¤. íŠ€ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.", "ê³µë¶€ë‚˜ ì¼ì— ì§‘ì¤‘ì´ ì˜ ì•ˆ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì ì‹œ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”.", "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë³´ë‹¤ëŠ” í•˜ë˜ ì¼ì„ ë§ˆë¬´ë¦¬í•˜ëŠ” ê²ƒì´ ìœ ë¦¬í•©ë‹ˆë‹¤."],
                health: ["ì „ë°˜ì ìœ¼ë¡œ ë¬´ë‚œí•˜ì§€ë§Œ, ê³¼ë¡œí•˜ë©´ í”¼ë¡œê°€ ìŒ“ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", "ì†Œí™”ê¸°ê°€ ì•½í•´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ìê·¹ì ì¸ ìŒì‹ì€ í”¼í•˜ì„¸ìš”.", "ìŠ¤íŠ¸ë ˆì¹­ìœ¼ë¡œ ë­‰ì¹œ ê·¼ìœ¡ì„ í’€ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."],
                caution: ["ì‚¬ì†Œí•œ ë§ì‹¤ìˆ˜ê°€ ì˜¤í•´ë¥¼ ë‚³ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²½ì²­í•˜ëŠ” ìì„¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.", "ê³„ì•½ì´ë‚˜ ì„œë¥˜ ì‘ì„± ì‹œ ê¼¼ê¼¼íˆ ë‘ ë²ˆ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.", "ì €ë… ì‹œê°„, ê¸‰í•˜ê²Œ ì´ë™í•˜ë‹¤ê°€ ë°œëª©ì„ ì‚ë—í•˜ê±°ë‚˜ ë„˜ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ì¡°ì‹¬í•˜ì„¸ìš”."],
                good: ["ë…ì„œë‚˜ ëª…ìƒ ë“± ì •ì ì¸ í™œë™ì´ ì •ì‹  ê±´ê°•ì— í° ë„ì›€ì„ ì¤ë‹ˆë‹¤.", "ì˜¤ë˜ëœ ë¬¼ê±´ì„ ì •ë¦¬í•˜ë©´ ë§‰í˜”ë˜ ìš´ì´ ëš«ë¦½ë‹ˆë‹¤.", "ê°€ë²¼ìš´ ì‚°ì±…ì´ë‚˜ ë“±ì‚°ì´ í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ ì¤„ ê²ƒì…ë‹ˆë‹¤."],
                prediction: ["ì ì‹¬ ì‹ì‚¬ ì¤‘ í¥ë¯¸ë¡œìš´ ì´ì•¼ê¸°ë¥¼ ë“£ê²Œ ë˜ê±°ë‚˜ ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¦…ë‹ˆë‹¤.", "ìŠê³  ìˆì—ˆë˜ ì‘ì€ ëˆ(ì ë¦½ê¸ˆ, ë™ì „ ë“±)ì„ ë°œê²¬í•˜ê²Œ ë©ë‹ˆë‹¤.", "ì €ë… 7ì‹œê²½, ë§ˆìŒì„ í¸ì•ˆí•˜ê²Œ í•´ì£¼ëŠ” ì¼ì´ ìƒê¸¸ ê²ƒì…ë‹ˆë‹¤."]
            },
            low: {
                total: ["ì•ˆê°œê°€ ë‚€ ë“¯ ì•ì´ ì˜ ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„£ë¶ˆë¦¬ ì›€ì§ì´ê¸°ë³´ë‹¤ëŠ” ë•Œë¥¼ ê¸°ë‹¤ë¦¬ë©° ë‚´ì‹¤ì„ ë‹¤ì§€ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.", "ì£¼ë³€ ì‚¬ëŒê³¼ì˜ ë§ˆì°°ì´ ì˜ˆìƒë©ë‹ˆë‹¤. ì–¸í–‰ì„ ì¡°ì‹¬í•˜ê³  í•œ ë°œ ì–‘ë³´í•˜ëŠ” ë¯¸ë•ì´ í•„ìš”í•©ë‹ˆë‹¤.", "ì˜ˆìƒì¹˜ ëª»í•œ ë³€ìˆ˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¹í™©í•˜ì§€ ë§ê³  ì°¨ë¶„í•˜ê²Œ ëŒ€ì²˜í•˜ì„¸ìš”."],
                wealth: ["ì§€ê°‘ ë‹¨ì†ì´ í•„ìš”í•©ë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ì§€ì¶œì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ ì•„ê»´ ì“°ì„¸ìš”.", "íˆ¬ìë‚˜ íˆ¬ê¸°ëŠ” ê¸ˆë¬¼ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ í˜„ê¸ˆì„ ì§€í‚¤ëŠ” ê²ƒì´ ëˆì„ ë²„ëŠ” ê²ƒì…ë‹ˆë‹¤.", "ë¬¼ê±´ì„ ìƒì–´ë²„ë¦¬ê±°ë‚˜ ì†í•´ë¥¼ ë³¼ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”."],
                love: ["ì‚¬ì†Œí•œ ë§ì‹¤ìˆ˜ë¡œ ì¸í•´ ìƒëŒ€ë°©ì—ê²Œ ìƒì²˜ë¥¼ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²½ì²­í•˜ëŠ” ìì„¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.", "ê°ì • ê¸°ë³µì´ ì‹¬í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°–ëŠ” ê²ƒë„ ë°©ë²•ì…ë‹ˆë‹¤.", "ì´ë³„ìˆ˜ê°€ ìˆê±°ë‚˜ ëƒ‰ì „ ìƒíƒœê°€ ë  ìˆ˜ ìˆìœ¼ë‹ˆ ìì¡´ì‹¬ì„ ë²„ë¦¬ì„¸ìš”."],
                career: ["ì§ì¥ì—ì„œ êµ¬ì„¤ìˆ˜ì— íœ˜ë§ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‚¨ì˜ ì¼ì— ì°¸ê²¬í•˜ì§€ ë§ˆì„¸ìš”.", "ì§‘ì¤‘ë ¥ì´ ë–¨ì–´ì ¸ ì‹¤ìˆ˜ê°€ ì¦ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‘ ë²ˆ ì„¸ ë²ˆ í™•ì¸í•˜ì„¸ìš”.", "ë¬´ë¦¬í•œ ê³„íš ìˆ˜ì •ì€ í™”ë¥¼ ë¶€ë¦…ë‹ˆë‹¤. ê¸°ì¡´ ë°©ì‹ì„ ê³ ìˆ˜í•˜ì„¸ìš”."],
                health: ["ë©´ì—­ë ¥ì´ ë–¨ì–´ì§€ê¸° ì‰¬ìš´ ë‚ ì…ë‹ˆë‹¤. ê°ê¸°ë‚˜ ìœ í–‰ì„± ì§ˆë³‘ì„ ì¡°ì‹¬í•˜ì„¸ìš”.", "ë‚™ìƒì´ë‚˜ ë¶€ìƒì˜ ìœ„í—˜ì´ ìˆìœ¼ë‹ˆ ê³¼ê²©í•œ í™œë™ì€ í”¼í•˜ì„¸ìš”.", "ìŠ¤íŠ¸ë ˆìŠ¤ë¡œ ì¸í•œ ë‘í†µì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª…ìƒì´ ë„ì›€ì´ ë©ë‹ˆë‹¤."],
                caution: ["ìŠ¤ë§ˆíŠ¸í°ì´ë‚˜ ì§€ê°‘ ë¶„ì‹¤ì˜ ìš°ë ¤ê°€ ìˆìŠµë‹ˆë‹¤. ì†Œì§€í’ˆì„ ì˜ ì±™ê¸°ì„¸ìš”.", "ìš´ì „ ì¤‘ì´ê±°ë‚˜ ê¸¸ì„ ê±´ë„ ë•Œ í‰ì†Œë³´ë‹¤ ë”ìš± ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•©ë‹ˆë‹¤.", "ê°€ê¹Œìš´ ì‚¬ëŒê³¼ì˜ ì–¸ìŸì€ í”¼í•˜ì„¸ìš”. ì˜¤ëŠ˜ì€ ë‹¹ì‹ ì´ ì°¸ëŠ” ê²ƒì´ ì´ê¸°ëŠ” ê²ƒì…ë‹ˆë‹¤."],
                good: ["ì§‘ì•ˆ ì²­ì†Œë‚˜ ëª©ìš•ì¬ê³„ë¡œ ë‚˜ìœ ê¸°ìš´ì„ ì”»ì–´ë‚´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.", "ê¸°ë¶€ë‚˜ ë´‰ì‚¬í™œë™ì€ ì•¡ìš´ì„ ë§‰ì•„ì£¼ëŠ” ìµœê³ ì˜ ë°©íŒ¨ì…ë‹ˆë‹¤.", "ì¼ì° ê·€ê°€í•˜ì—¬ ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ì·¨í•˜ëŠ” ê²ƒì´ ë‚´ì¼ì˜ ìš´ì„ ë¶€ë¦…ë‹ˆë‹¤."],
                prediction: ["ì•½ì†ì´ ê°‘ìê¸° ì·¨ì†Œë˜ê±°ë‚˜ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¯¸ë¦¬ ëŒ€ë¹„í•˜ì„¸ìš”.", "ì˜¤í›„ ì‹œê°„, ì—…ë¬´ë‚˜ í•™ì—…ì—ì„œ ì‘ì€ ì‹¤ìˆ˜ê°€ ë°œê²¬ë˜ì–´ ìˆ˜ì •í•˜ê²Œ ë©ë‹ˆë‹¤.", "ìƒê°ì§€ë„ ëª»í•œ ì‚¬ëŒê³¼ ë§ˆì£¼ì¹˜ì§€ë§Œ, ì§§ì€ ì¸ì‚¬ê°€ ìµœì„ ì…ë‹ˆë‹¤."]
            }
        };

        const colors = ["ë¶‰ì€ìƒ‰", "í‘¸ë¥¸ìƒ‰", "í™©ê¸ˆìƒ‰", "ê²€ì€ìƒ‰", "í°ìƒ‰", "ì´ˆë¡ìƒ‰", "ë³´ë¼ìƒ‰"];
        const directions = ["ë™ìª½", "ì„œìª½", "ë‚¨ìª½", "ë¶ìª½", "ë™ë‚¨ìª½", "ë¶ì„œìª½"];

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜: 60ê°‘ì ê³„ì‚°
        function getGanji(year, month, day) {
            // ê¸°ì¤€ì¼: 1900ë…„ 1ì›” 1ì¼ (ê°‘ìˆ ì¼ë¡œ ê°€ì • - ì‹¤ì œ ë³µì¡í•œ ì ˆê¸° ê³„ì‚°ì€ ì•½ì‹ìœ¼ë¡œ ëŒ€ì²´í•˜ì—¬ ì‹œë®¬ë ˆì´ì…˜)
            // ëª…ë¦¬í•™ì ìœ¼ë¡œ ì •í™•í•œ ì ˆê¸°(ì…ì¶˜ ë“±) ê³„ì‚°ì€ ë§¤ìš° ë³µì¡í•˜ë¯€ë¡œ, 
            // ì—¬ê¸°ì„œëŠ” ì›¹ ì•±ì˜ ì¬ë¯¸ ìš”ì†Œë¥¼ ìœ„í•´ í‘œì¤€ ì•Œê³ ë¦¬ì¦˜ì„ ë‹¨ìˆœí™”í•˜ì—¬ ì ìš©í•©ë‹ˆë‹¤.
            
            const heavenlyStems = "ê°‘ì„ë³‘ì •ë¬´ê¸°ê²½ì‹ ì„ê³„";
            const earthlyBranches = "ìì¶•ì¸ë¬˜ì§„ì‚¬ì˜¤ë¯¸ì‹ ìœ ìˆ í•´";
            
            // ë…„ì£¼ ê³„ì‚° (ì…ì¶˜ ê¸°ì¤€ ë¬´ì‹œí•˜ê³  ì–‘ë ¥ 1/1 ê¸°ì¤€ ì•½ì‹)
            const yearIndex = (year - 4) % 60; 
            const yearStem = heavenlyStems[yearIndex % 10];
            const yearBranch = earthlyBranches[yearIndex % 12];
            
            // ì›”ì£¼ ê³„ì‚° (ì•½ì‹: ë…„ê°„ì— ë”°ë¥¸ ì›”ë‘ë²• ì ìš©)
            // ë…„ê°„ì˜ ì¸ë±ìŠ¤(0:ê°‘ ~ 9:ê³„)
            const yearStemIndex = yearIndex % 10;
            // ì›”ë‘ë²•: ê°‘ê¸°ë…„->ë³‘ì¸ë‘, ì„ê²½ë…„->ë¬´ì¸ë‘...
            const monthStartStemIndex = (yearStemIndex % 5) * 2 + 2; 
            const monthStemIndex = (monthStartStemIndex + (month - 1) + 10) % 10; // ì¸ì›”(2ì›”)ë¶€í„° ì‹œì‘ì´ë‚˜ ì•½ì‹ìœ¼ë¡œ 1ì›”=ì¸ì›” ë§¤í•‘
            const monthBranchIndex = (month + 1) % 12; // 1ì›”=ì¸(2)
            
            const monthStem = heavenlyStems[monthStemIndex];
            const monthBranch = earthlyBranches[monthBranchIndex];

            // ì¼ì£¼ ê³„ì‚° (ê·¸ë ˆê³ ë¦¬ë ¥ -> ì¤„ë¦¬ì•ˆ ë°ì´ -> 60ê°‘ì)
            // ê°„ë‹¨í•œ ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•´ ë‚ ì§œ ì°¨ì´ë¥¼ ì´ìš©
            const baseDate = new Date(1900, 0, 1);
            const targetDate = new Date(year, month - 1, day);
            const diffTime = Math.abs(targetDate - baseDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            
            // 1900.1.1ì€ ê°‘ìˆ ì¼(10) -> ì¸ë±ìŠ¤ 10
            const dayGanjiIndex = (10 + diffDays) % 60;
            const dayStem = heavenlyStems[dayGanjiIndex % 10];
            const dayBranch = earthlyBranches[dayGanjiIndex % 12];

            return {
                year: yearStem + yearBranch,
                month: monthStem + monthBranch,
                day: dayStem + dayBranch,
                dayStem: dayStem, // ì¼ê°„ (ë‚˜)
                dayIndex: dayGanjiIndex
            };
        }

        // ì‹œë“œ ê¸°ë°˜ ëœë¤ í•¨ìˆ˜ (ë™ì¼ ë‚ ì§œ/ìƒì¼ì´ë©´ ë™ì¼ ê²°ê³¼)
        function seededRandom(seed) {
            var x = Math.sin(seed++) * 10000;
            return x - Math.floor(x);
        }

        // ë©”ì¸ ë¡œì§
        document.getElementById('sajuForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value || 'ë°©ë¬¸ì';
            const birthdate = document.getElementById('birthdate').value;
            const birthtime = document.getElementById('birthtime').value;
            const gender = document.querySelector('input[name="gender"]:checked').value;

            if (!birthdate) {
                alert('ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // UI ì „í™˜
            document.getElementById('inputSection').classList.add('hidden');
            document.getElementById('loadingSection').classList.remove('hidden');

            // ë¡œë”© ì‹œë®¬ë ˆì´ì…˜ (1.5ì´ˆ)
            setTimeout(() => {
                showResult(username, birthdate, birthtime, gender);
            }, 1500);
        });

        function showResult(name, dateStr, time, gender) {
            document.getElementById('loadingSection').classList.add('hidden');
            const resultSection = document.getElementById('resultSection');
            resultSection.classList.remove('hidden');
            resultSection.classList.add('fade-in');

            const date = new Date(dateStr);
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();

            // 1. ì‚¬ì£¼ íŒ”ì ê³„ì‚° (ì•½ì‹)
            const saju = getGanji(year, month, day);
            
            // ì‹œê°„ì€ ì„ íƒê°’ì— ë”°ë¼ ì²˜ë¦¬
            let timeText = "ë¯¸ìƒ";
            if (time !== 'unknown') {
                const hourIndex = parseInt(time);
                // ì‹œì£¼ ê³„ì‚° ë¡œì§ì€ ë³µì¡í•˜ë¯€ë¡œ ì¼ê°„ ê¸°ì¤€ ì‹œë‘ë²• ì•½ì‹ ì ìš©
                const dayStemIndex = "ê°‘ì„ë³‘ì •ë¬´ê¸°ê²½ì‹ ì„ê³„".indexOf(saju.dayStem);
                const hourStartStemIndex = (dayStemIndex % 5) * 2;
                const hourStem = "ê°‘ì„ë³‘ì •ë¬´ê¸°ê²½ì‹ ì„ê³„"[(hourStartStemIndex + hourIndex) % 10];
                const hourBranch = "ìì¶•ì¸ë¬˜ì§„ì‚¬ì˜¤ë¯¸ì‹ ìœ ìˆ í•´"[hourIndex];
                timeText = hourStem + hourBranch;
            }

            // 2. í™”ë©´ í‘œì‹œ
            document.getElementById('resultName').innerText = name;
            document.getElementById('currentDateDisplay').innerText = new Date().toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' });
            
            document.getElementById('yearPillar').innerText = saju.year;
            document.getElementById('monthPillar').innerText = saju.month;
            document.getElementById('dayPillar').innerText = saju.day;
            document.getElementById('hourPillar').innerText = timeText;

            // ë³¸ì›(ì¼ê°„) ì„¤ëª…
            const dayStemChar = saju.dayStem;
            const myElement = elementMap[dayStemChar] || 'ì•Œ ìˆ˜ ì—†ìŒ';
            const elementColors = {'ëª©': 'í‘¸ë¥¸ìƒ‰(ì²­ë£¡)', 'í™”': 'ë¶‰ì€ìƒ‰(ì£¼ì‘)', 'í† ': 'í™©ê¸ˆìƒ‰(í™©ë£¡)', 'ê¸ˆ': 'í°ìƒ‰(ë°±í˜¸)', 'ìˆ˜': 'ê²€ì€ìƒ‰(í˜„ë¬´)'};
            document.getElementById('myElement').innerText = `ë‹¹ì‹ ì€ ${elementColors[myElement]}ì˜ ê¸°ìš´ì„ ê°€ì§„ '${dayStemChar}' ì¼ê°„ì…ë‹ˆë‹¤.`;

            // 3. ìš´ì„¸ ìƒì„± (ì‹œë“œ ìƒì„±)
            const today = new Date();
            const seed = year * month * day * today.getDate() * (today.getMonth() + 1) + (gender === 'male' ? 1 : 2);
            
            // ì ìˆ˜ ê³„ì‚° (40~100 ì‚¬ì´ ëœë¤)
            const score = Math.floor(seededRandom(seed) * 61) + 40;
            
            // ì ìˆ˜ì— ë”°ë¥¸ ë ˆë²¨ ê²°ì •
            let level = 'mid';
            let comment = 'í‰ë²”í•œ í•˜ë£¨';
            let barColor = 'bg-yellow-500';
            let commentColor = 'text-yellow-600 bg-yellow-200';

            if (score >= 85) {
                level = 'high';
                comment = 'ëŒ€ê¸¸ (Great Luck)';
                barColor = 'bg-red-500'; // ëª…ë¦¬í•™ì—ì„œ ë¹¨ê°•ì€ ì–‘ì˜ ê¸°ìš´
                commentColor = 'text-red-700 bg-red-200';
            } else if (score <= 55) {
                level = 'low';
                comment = 'ì£¼ì˜ í•„ìš”';
                barColor = 'bg-gray-500';
                commentColor = 'text-gray-700 bg-gray-200';
            } else {
                comment = 'í‰ì˜¨í•¨';
            }

            // UI ì—…ë°ì´íŠ¸
            document.getElementById('scoreValue').innerText = score;
            const scoreBar = document.getElementById('scoreBar');
            scoreBar.style.width = score + '%';
            scoreBar.className = `shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${barColor} transition-all duration-1000 ease-out h-full`;
            
            const scoreCommentObj = document.getElementById('scoreComment');
            scoreCommentObj.innerText = comment;
            scoreCommentObj.className = `text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full ${commentColor}`;

            // í…ìŠ¤íŠ¸ ì„ íƒ í•¨ìˆ˜
            const pickText = (category) => {
                const arr = fortuneDB[level][category];
                const index = Math.floor(seededRandom(seed + category.length) * arr.length);
                return arr[index];
            };

            document.getElementById('totalFortuneText').innerText = pickText('total');
            document.getElementById('wealthText').innerText = pickText('wealth');
            document.getElementById('loveText').innerText = pickText('love');
            document.getElementById('careerText').innerText = pickText('career');
            document.getElementById('healthText').innerText = pickText('health');
            
            // New Texts
            document.getElementById('cautionText').innerText = pickText('caution');
            document.getElementById('goodText').innerText = pickText('good');
            document.getElementById('predictionText').innerText = pickText('prediction');

            // í–‰ìš´ì˜ ì•„ì´í…œ
            const luckyColor = colors[Math.floor(seededRandom(seed + 1) * colors.length)];
            const luckyDir = directions[Math.floor(seededRandom(seed + 2) * directions.length)];
            const luckyNum = Math.floor(seededRandom(seed + 3) * 9) + 1;

            document.getElementById('luckyColor').innerText = luckyColor;
            document.getElementById('luckyDirection').innerText = luckyDir;
            document.getElementById('luckyNumber').innerText = luckyNum;
        }
    </script>
</body>
</html>